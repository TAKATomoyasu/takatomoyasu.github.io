<html>
<!-- 繧ｽ繝ｼ繧ｹ繧ｳ繝ｼ繝峨�繝輔Μ繝ｼ縺ｧ縺吶′逕ｻ蜒上�螟峨∴縺ｦ縺ｭ^^ -->

<head>
    <link rel="stylesheet" href="./index.css">
    <script src="https://code.jquery.com/jquery-3.5.0.min.js" integrity="sha256-xNzN2a4ltkB44Mc/Jz3pT4iU1cmeR0FkXs4pru/JxaQ=" crossorigin="anonymous">
    </script>
    <style type="text/css">
        <!-- body {
            background-color: black;
            margin: 0;
        }
        
        .content {
            width: 100%;
        }
        
        .content .padding {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            height: 100vh;
        }
        
        #anim_img_box {
            position: sticky;
            width: 100%;
            height: 100vh;
            top: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: black;
        }
        
        #anim_img {
            width: 100%;
        }
        
        -->
    </style>
</head>

<body>
    <div class="content">
        <div class="padding">
            <p style="color:white;">HELLO</p>
        </div>

        <div id="anim_img_box">
            <img id="anim_img" src="anim/img 1.jpg" style="width: 100%;" />
            <!--蛻晄悄逕ｻ蜒上ｒ蜈･繧後※縺翫￥繧医らｽｮ縺肴鋤繧上ｋ驛ｨ蛻�□繧�-->
        </div>

        <div id="anim_img_padding" class="padding">
            縺薙�繧ｨ繝ｪ繧｢縺ｯ逕ｻ蜒上ｒ蜍輔°縺吶◆繧√↓繧ｹ繧ｯ繝ｭ繝ｼ繝ｫ縺輔ｌ縺ｾ縺吶′縲�㍾縺ｪ縺｣縺ｦ縺�ｋ縺ｮ縺ｧ隕九∴縺ｾ縺帙ｓ縲�<br> 縺薙�繧ｵ繧､繧ｺ縺ｯJavaScript縺ｧ螟峨ｏ繧翫∪縺吶�
        </div>
        <div class="padding">
            <p style="color:white">Let's start.</p>
        </div>
    </div>
</body>
<script>
    var tmp = {};
    loadImageToTmp();

    function loadImageToTmp() {
        for (var i = 1; i <= 140; i++) {
            const _i = i;
            const img = new Image();
            tmp[_i] = null;
            img.src = "anim/img " + _i + ".jpg";
            img.addEventListener("load", () => {
                tmp[_i] = img;
            })
        }
    }

    const image = document.getElementById("anim_img");

    var n = 50;
    var SIZE = 140;

    const offset = $("#anim_img_box").offset(); // 逕ｻ蜒上ｒ蜈･繧後ｋdiv隕∫ｴ�
    $(window).scroll(function() {
        const y = $(window).scrollTop();
        const dy = y - offset.top;
        if (offset.top < y && y < offset.top + SIZE * n) {
            $("#anim_img_box").css("top", 0)
            const i = Math.floor(dy / n);
            if (i <= 0 || i >= SIZE) return;
            if (tmp[i].src) image.src = tmp[i].src;
        } else if (y >= offset.top + SIZE * n) {
            $("#anim_img_box").css("top", "-" + (dy - SIZE * n))
        }
    });

    $("#anim_img_padding").height(SIZE * n); // 繧ｹ繝壹�繧ｹ縺ｮ螟画峩
</script>

</html>